class ChatEngine{constructor(s,e){this.chatBox=$(`#${s}`),this.userEmail=e,this.socket=io("http://localhost:5000",{transports:["websocket","polling","flashsocket"]}),this.userEmail&&this.connectionHandler()}connectionHandler(){let s=this;this.socket.on("connect",(function(){s.socket.emit("join_room",{user_email:s.userEmail,chatroom:"traser"})})),$("#send-message").click((function(){let e=$("#chat-message-input").val();""!=e&&s.socket.emit("send_message",{message:e,user_email:s.userEmail,chatroom:"traser"})})),this.socket.on("receive_message",(function(e){let t=$("<li>"),a="other-message";e.user_email==s.userEmail&&(a="self-message"),t.append($(`<span>${e.message}<br><sub>${e.user_email}</sub></span>`)),t.addClass(a),$("#chat-message-list").append(t)}))}}$("#hide-chatbox-button").click((function(s){$("#user-chat-box").addClass("hide"),$("#chat-icon").addClass("show-chat-icon")})),$("#chat-icon").click((function(s){$("#user-chat-box").removeClass("hide"),$("#chat-icon").removeClass("show-chat-icon")}));